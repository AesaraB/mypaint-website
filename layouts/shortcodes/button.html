{{ $href := (.Get "href") }}
{{ $content := (.Get "content") }}
{{ $src := (.Get "src") }}

{{ with (.Get "paramref") }}
	{{ $href = $.Site.Param . }}
{{ end }}
{{ with (.Get "relref") }}
	{{ $href = $.RelRef (dict "path" .) }}
{{ end }}

{{ if ne $src "" }}
	{{ $src = (printf "src=%q" (resources.Get $src).RelPermalink) | safeHTMLAttr }}
{{ end }}

<a class="button secondary" href="{{ $href }}">
	{{ if ne $src "" }}
		<img class="inline invertable" {{ $src }}/>
	{{ end }}
	{{ $content }}
</a>
